(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{22:function(e,t,n){e.exports={loaderContainer:"Loader_loaderContainer__zdmiY"}},29:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(0),c=n.n(r),o=n(6),i=n.n(o),u=(n(29),n(11)),s=n(4);function l(e){var t=e.onChange,n=Object(r.useState)(8),c=Object(s.a)(n,2),o=c[0],i=c[1];return Object(r.useEffect)((function(){t(o)}),[t,o]),Object(a.jsxs)("select",{className:"QuantitySelect",value:o,name:"quantity",id:"quantity",onChange:function(e){return i(e.target.value)},children:[Object(a.jsx)("option",{value:"4",name:"quantity",children:"4"}),Object(a.jsx)("option",{value:"8",name:"quantity",children:"8"}),Object(a.jsx)("option",{value:"12",name:"quantity",children:"12"}),Object(a.jsx)("option",{value:"20",name:"quantity",children:"20"})]})}function j(e){var t=e.onChangeQuantity,n=e.onSubmitForm,c=Object(r.useState)(""),o=Object(s.a)(c,2),i=o[0],u=o[1];return Object(a.jsxs)("header",{className:"Searchbar",children:[Object(a.jsxs)("form",{className:"SearchForm",onSubmit:function(e){return function(e){e.preventDefault(),i&&(n(i),u(""))}(e)},children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",value:i,autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){return u(e.target.value)}})]}),Object(a.jsx)(l,{onChange:t})]})}function b(e){var t=e.previewUrl,n=e.imageUrl,r=e.onClickImage;return Object(a.jsx)("li",{className:"ImageGalleryItem",onClick:function(e){return r(e)},children:Object(a.jsx)("img",{src:t,alt:"",className:"ImageGalleryItem-image","data-url":n,width:"150"})})}function d(e){var t=e.galleryPhotos,n=e.onOpenModal;return Object(a.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,r=e.largeImageURL,c=e.webformatURL;return Object(a.jsx)(b,{previewUrl:c,imageUrl:r,onClickImage:n},t)}))})}var m=n(9),h=n.n(m),f=n(20),O=n(10),g=n.n(O);g.a.defaults.baseURL="https://pixabay.com/api";var p={API_KEY:"13118160-85f169275baea695b5828e8ed",fetchGallery:function(){var e=arguments,t=this;return Object(f.a)(h.a.mark((function n(){var a,r,c;return h.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:"",r=e.length>1&&void 0!==e[1]?e[1]:1,c=e.length>2&&void 0!==e[2]?e[2]:4,n.next=5,g.a.get("/?q=".concat(a,"&page=").concat(r,"&key=").concat(t.API_KEY,"&image_type=photo&orientation=horizontal&per_page=").concat(c)).then((function(e){return e.data.hits})).then((function(e){return e.map((function(e){return{id:e.id,largeImageURL:e.largeImageURL,webformatURL:e.webformatURL}}))}));case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})))()}};function v(e){var t=e.onLoadMore;return Object(a.jsx)("button",{className:"Button",type:"button",onClick:function(){return t()},children:"load more"})}var x=n(23),y=document.querySelector("#modal-root");function w(e){var t=e.onCloseModal,n=e.imageUrl;Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&t()};return Object(o.createPortal)(Object(a.jsx)("div",{className:"Overlay",onClick:function(e){return function(e){e.currentTarget===e.target&&t()}(e)},children:Object(a.jsxs)("div",{className:"Modal",children:[Object(a.jsx)("div",{className:"ModalButtonWrapper",onClick:function(){return t()},children:Object(a.jsx)(x.a,{color:"white",size:"25px"})}),Object(a.jsx)("img",{src:n,alt:"photos"})]})}),y)}var S=n(21),C=n.n(S),k=(n(69),n(22)),L=n.n(k);function N(e){var t=e.isLoading;return Object(a.jsx)("div",{className:L.a.loaderContainer,children:Object(a.jsx)(C.a,{visible:t,type:"BallTriangle",color:"#00BFFF",height:50,width:50,timeout:0})})}function I(){var e=Object(r.useState)([]),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(r.useState)(1),i=Object(s.a)(o,2),l=i[0],b=i[1],m=Object(r.useState)(""),h=Object(s.a)(m,2),f=h[0],O=h[1],g=Object(r.useState)(!1),x=Object(s.a)(g,2),y=x[0],S=x[1],C=Object(r.useState)(""),k=Object(s.a)(C,2),L=k[0],I=k[1],U=Object(r.useState)(!1),E=Object(s.a)(U,2),F=E[0],M=E[1],q=Object(r.useState)(8),R=Object(s.a)(q,2),_=R[0],B=R[1];Object(r.useEffect)((function(){f&&P()}),[f,_]),Object(r.useEffect)((function(){z()}));var G=function(){S(!y)},P=function(){M((function(e){return!e})),p.fetchGallery(f,l,_).then((function(e){c((function(t){return[].concat(Object(u.a)(t),Object(u.a)(e))})),b((function(e){return e+1}))})).finally((function(){return M((function(e){return!e}))}))},z=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(j,{onSubmitForm:function(e){O(e),c([]),b(1)},onChangeQuantity:function(e){return B(e)}}),Object(a.jsxs)("main",{children:[Object(a.jsx)(d,{galleryPhotos:n,onOpenModal:function(e){var t=e.target.dataset.url;G(),I(t)}}),Object(a.jsx)(N,{isLoading:F}),n.length>0&&!F&&Object(a.jsx)(v,{onLoadMore:P}),y&&Object(a.jsx)(w,{imageUrl:L,onCloseModal:G})]})]})}i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(I,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.48a8fb21.chunk.js.map